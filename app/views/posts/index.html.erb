<%= javascript_pack_tag 'application' %>
<%= javascript_pack_tag 'hello_vue' %>
<%= stylesheet_pack_tag 'hello_vue' %>

<div class="space-y-6 w-3/4 max-w-lg">
  <label class="block text-xl font-bold text-gray-700">学習ログ一覧</label>

  <form action="<%= posts_path %>" method="get">
    <input
      type="text"
      name="category"
      value="<%= params[:category] %>"
      placeholder="カテゴリーで絞り込み"
      class="border border-gray-300 rounded-md p-2"
    />
    <button type="submit" class="search-button">
      検索
    </button>
  </form>

  <div class="items-center justify-center">
    <% @posts.each do |post| %>
      <div tabindex="0" aria-label="card 1" class="focus:outline-none mb-7 bg-white p-6 shadow rounded">
        <div class="flex items-center border-b border-gray-200 pb-6">
          <div class="flex items-start justify-between w-full">
            <div class="pl-3">
              <p class="focus:outline-none text-lg font-medium leading-5 text-gray-800"><%= link_to post.title, post_path(post) %></p>
              <p class="focus:outline-none text-sm leading-normal pt-2 text-gray-500">by <%= post.user.nickname %></p>
              <p class="focus:outline-none text-sm leading-normal pt-2 text-gray-500"><%= "#" %><%= post&.category %></p>
            </div>
          </div>
        </div>
        <div class="px-2">
          <p class="focus:outline-none text-sm leading-5 py-4 text-gray-600"><%= post.content %></p>
        </div>
      </div>
    <% end %>
  </div>
</div>
